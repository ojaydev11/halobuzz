# ===========================================
# HALOBUZZ BACKEND CONFIGURATION
# ===========================================
# Copy this file to .env and update with your values
# Never commit .env files to version control

# ===========================================
# SERVER CONFIGURATION
# ===========================================
NODE_ENV=development
PORT=5010
TZ=Australia/Sydney

# CORS Configuration (comma-separated origins)
CORS_ORIGIN=http://localhost:19006,http://localhost:3000,http://localhost:8080

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# MongoDB Connection String
MONGODB_URI=mongodb+srv://<user>:<pass>@<cluster>/<db>?retryWrites=true&w=majority

# Redis Connection String
REDIS_URL=redis://localhost:6379

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# JWT Secret (MUST be changed in production - use a secure random string)
JWT_SECRET=your-super-secure-jwt-secret-minimum-64-characters-long-random-string-here
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-different-from-jwt-secret-minimum-64-chars
JWT_ACCESS_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Security Settings
BCRYPT_ROUNDS=12
SESSION_TIMEOUT=86400000
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Agora Video SDK
AGORA_APP_ID=your-agora-app-id
AGORA_APP_CERT=your-agora-app-certificate

# ===========================================
# AWS S3 CONFIGURATION
# ===========================================
S3_BUCKET=your-s3-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY=your-aws-access-key
S3_SECRET_KEY=your-aws-secret-key

# ===========================================
# PAYMENT GATEWAYS
# ===========================================
# Stripe
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# eSewa (Nepal)
ESEWA_MERCHANT_ID=your-esewa-merchant-id
ESEWA_SECRET=your-esewa-secret-key

# Khalti (Nepal)
KHALTI_PUBLIC_KEY=test_public_key_your_khalti_public_key
KHALTI_SECRET_KEY=test_secret_key_your_khalti_secret_key

# PayPal
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_ENVIRONMENT=sandbox

# ===========================================
# AI SERVICES
# ===========================================
# OpenAI API
OPENAI_API_KEY=sk-your-openai-api-key

# AI Engine Service
AI_ENGINE_URL=http://localhost:5020
AI_ENGINE_SECRET=your-ai-engine-secret

# ===========================================
# COMMUNICATION SERVICES
# ===========================================
# SendGrid (Email)
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# Twilio (SMS)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable/disable features (true/false)
ENABLE_AI=true
ENABLE_PAYMENTS=true
ENABLE_NOTIFICATIONS=true
ENABLE_MODERATION=true
ENABLE_ANALYTICS=true

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# These are safe defaults for development
# In production, ensure all secrets are properly configured

# Logging Level (error, warn, info, debug)
LOG_LEVEL=info

# Enable detailed error responses (development only)
DETAILED_ERRORS=true

# ===========================================
# PRODUCTION NOTES
# Security Configuration
ADMIN_TOTP_REQUIRED=true
ADMIN_EMAILS=admin@halobuzz.com,security@halobuzz.com
ENABLE_DEVICE_BINDING=true
ENABLE_IP_PINNING=false
ADMIN_ALLOWED_IPS=127.0.0.1,::1

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Security Monitoring
SECURITY_MONITORING_ENABLED=true
SECURITY_ALERT_EMAIL=security@halobuzz.com

# ===========================================
# For production deployment:
# 1. Set NODE_ENV=production
# 2. Use strong, unique JWT_SECRET (64+ characters)
# 3. Configure all payment gateways
# 4. Set up proper MongoDB and Redis instances
# 5. Configure AWS S3 with proper permissions
# 6. Set up monitoring and logging
# 7. Enable rate limiting and security headers
# 8. Configure SSL/TLS certificates
# 9. Enable 2FA for all admin accounts
# 10. Configure security monitoring and alerting