{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar FeatureFlagService = function () {\n  function FeatureFlagService() {\n    _classCallCheck(this, FeatureFlagService);\n    this.flags = {};\n    this.lastFetch = 0;\n    this.cacheDuration = 5 * 60 * 1000;\n  }\n  return _createClass(FeatureFlagService, [{\n    key: \"checkFeatureFlags\",\n    value: function () {\n      var _checkFeatureFlags = _asyncToGenerator(function* () {\n        try {\n          var now = Date.now();\n          if (now - this.lastFetch > this.cacheDuration) {\n            yield this.fetchFeatureFlags();\n          }\n          if (Object.keys(this.flags).length === 0) {\n            yield this.loadCachedFlags();\n          }\n          console.log('Feature flags loaded:', this.flags);\n        } catch (error) {\n          console.error('Failed to check feature flags:', error);\n          yield this.loadCachedFlags();\n        }\n      });\n      function checkFeatureFlags() {\n        return _checkFeatureFlags.apply(this, arguments);\n      }\n      return checkFeatureFlags;\n    }()\n  }, {\n    key: \"fetchFeatureFlags\",\n    value: function () {\n      var _fetchFeatureFlags = _asyncToGenerator(function* () {\n        try {\n          var response = yield axios.get('http://localhost:3001/api/config/feature-flags');\n          this.flags = response.data;\n          this.lastFetch = Date.now();\n          yield this.cacheFlags();\n        } catch (error) {\n          console.error('Failed to fetch feature flags:', error);\n          throw error;\n        }\n      });\n      function fetchFeatureFlags() {\n        return _fetchFeatureFlags.apply(this, arguments);\n      }\n      return fetchFeatureFlags;\n    }()\n  }, {\n    key: \"cacheFlags\",\n    value: function () {\n      var _cacheFlags = _asyncToGenerator(function* () {\n        try {\n          yield AsyncStorage.setItem('feature_flags', JSON.stringify({\n            flags: this.flags,\n            timestamp: this.lastFetch\n          }));\n        } catch (error) {\n          console.error('Failed to cache feature flags:', error);\n        }\n      });\n      function cacheFlags() {\n        return _cacheFlags.apply(this, arguments);\n      }\n      return cacheFlags;\n    }()\n  }, {\n    key: \"loadCachedFlags\",\n    value: function () {\n      var _loadCachedFlags = _asyncToGenerator(function* () {\n        try {\n          var cached = yield AsyncStorage.getItem('feature_flags');\n          if (cached) {\n            var data = JSON.parse(cached);\n            this.flags = data.flags;\n            this.lastFetch = data.timestamp;\n          }\n        } catch (error) {\n          console.error('Failed to load cached feature flags:', error);\n        }\n      });\n      function loadCachedFlags() {\n        return _loadCachedFlags.apply(this, arguments);\n      }\n      return loadCachedFlags;\n    }()\n  }, {\n    key: \"isFeatureEnabled\",\n    value: function isFeatureEnabled(featureName, context) {\n      var flag = this.flags[featureName];\n      if (!flag) {\n        return false;\n      }\n      if (!flag.enabled) {\n        return false;\n      }\n      if (flag.conditions) {\n        if (flag.conditions.userTier && context != null && context.userTier) {\n          if (!flag.conditions.userTier.includes(context.userTier)) {\n            return false;\n          }\n        }\n        if (flag.conditions.countries && context != null && context.country) {\n          if (!flag.conditions.countries.includes(context.country)) {\n            return false;\n          }\n        }\n        if (flag.conditions.appVersion && context != null && context.appVersion) {\n          if (context.appVersion !== flag.conditions.appVersion) {\n            return false;\n          }\n        }\n      }\n      if (flag.rolloutPercentage !== undefined) {\n        var random = Math.random() * 100;\n        if (random > flag.rolloutPercentage) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }, {\n    key: \"getFeatureValue\",\n    value: function getFeatureValue(featureName) {\n      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var context = arguments.length > 2 ? arguments[2] : undefined;\n      if (this.isFeatureEnabled(featureName, context)) {\n        var flag = this.flags[featureName];\n        return (flag == null ? void 0 : flag.value) || defaultValue;\n      }\n      return defaultValue;\n    }\n  }, {\n    key: \"getAllFlags\",\n    value: function getAllFlags() {\n      return _objectSpread({}, this.flags);\n    }\n  }, {\n    key: \"refreshFlags\",\n    value: function () {\n      var _refreshFlags = _asyncToGenerator(function* () {\n        this.lastFetch = 0;\n        yield this.checkFeatureFlags();\n      });\n      function refreshFlags() {\n        return _refreshFlags.apply(this, arguments);\n      }\n      return refreshFlags;\n    }()\n  }, {\n    key: \"isLiveStreamingEnabled\",\n    value: function isLiveStreamingEnabled(context) {\n      return this.isFeatureEnabled('live_streaming', context);\n    }\n  }, {\n    key: \"isReelsEnabled\",\n    value: function isReelsEnabled(context) {\n      return this.isFeatureEnabled('reels', context);\n    }\n  }, {\n    key: \"isGamingEnabled\",\n    value: function isGamingEnabled(context) {\n      return this.isFeatureEnabled('gaming', context);\n    }\n  }, {\n    key: \"isOGStoreEnabled\",\n    value: function isOGStoreEnabled(context) {\n      return this.isFeatureEnabled('og_store', context);\n    }\n  }, {\n    key: \"isBattleSystemEnabled\",\n    value: function isBattleSystemEnabled(context) {\n      return this.isFeatureEnabled('battle_system', context);\n    }\n  }, {\n    key: \"isGiftSystemEnabled\",\n    value: function isGiftSystemEnabled(context) {\n      return this.isFeatureEnabled('gift_system', context);\n    }\n  }, {\n    key: \"isLiteModeEnabled\",\n    value: function isLiteModeEnabled(context) {\n      return this.isFeatureEnabled('lite_mode', context);\n    }\n  }, {\n    key: \"isAnonymousModeEnabled\",\n    value: function isAnonymousModeEnabled(context) {\n      return this.isFeatureEnabled('anonymous_mode', context);\n    }\n  }, {\n    key: \"isCountryFilterEnabled\",\n    value: function isCountryFilterEnabled(context) {\n      return this.isFeatureEnabled('country_filter', context);\n    }\n  }, {\n    key: \"isAgeGateEnabled\",\n    value: function isAgeGateEnabled(context) {\n      return this.isFeatureEnabled('age_gate', context);\n    }\n  }, {\n    key: \"isEsewaEnabled\",\n    value: function isEsewaEnabled(context) {\n      return this.isFeatureEnabled('payment_esewa', context);\n    }\n  }, {\n    key: \"isKhaltiEnabled\",\n    value: function isKhaltiEnabled(context) {\n      return this.isFeatureEnabled('payment_khalti', context);\n    }\n  }, {\n    key: \"isStripeEnabled\",\n    value: function isStripeEnabled(context) {\n      return this.isFeatureEnabled('payment_stripe', context);\n    }\n  }, {\n    key: \"isContentModerationEnabled\",\n    value: function isContentModerationEnabled(context) {\n      return this.isFeatureEnabled('content_moderation', context);\n    }\n  }, {\n    key: \"isBlurOverlayEnabled\",\n    value: function isBlurOverlayEnabled(context) {\n      return this.isFeatureEnabled('blur_overlay', context);\n    }\n  }, {\n    key: \"isWarningBannerEnabled\",\n    value: function isWarningBannerEnabled(context) {\n      return this.isFeatureEnabled('warning_banner', context);\n    }\n  }, {\n    key: \"isDirectMessagingEnabled\",\n    value: function isDirectMessagingEnabled(context) {\n      return this.isFeatureEnabled('direct_messaging', context);\n    }\n  }, {\n    key: \"isThreeMessageRuleEnabled\",\n    value: function isThreeMessageRuleEnabled(context) {\n      return this.isFeatureEnabled('three_message_rule', context);\n    }\n  }, {\n    key: \"isUnsendEnabled\",\n    value: function isUnsendEnabled(context) {\n      return this.isFeatureEnabled('unsend_messages', context);\n    }\n  }, {\n    key: \"isAnalyticsEnabled\",\n    value: function isAnalyticsEnabled(context) {\n      return this.isFeatureEnabled('analytics', context);\n    }\n  }, {\n    key: \"isCrashReportingEnabled\",\n    value: function isCrashReportingEnabled(context) {\n      return this.isFeatureEnabled('crash_reporting', context);\n    }\n  }, {\n    key: \"isOfflineQueueEnabled\",\n    value: function isOfflineQueueEnabled(context) {\n      return this.isFeatureEnabled('offline_queue', context);\n    }\n  }, {\n    key: \"isPreloadEnabled\",\n    value: function isPreloadEnabled(context) {\n      return this.isFeatureEnabled('preload_content', context);\n    }\n  }, {\n    key: \"isDebugModeEnabled\",\n    value: function isDebugModeEnabled(context) {\n      return this.isFeatureEnabled('debug_mode', context);\n    }\n  }, {\n    key: \"isTestModeEnabled\",\n    value: function isTestModeEnabled(context) {\n      return this.isFeatureEnabled('test_mode', context);\n    }\n  }]);\n}();\nexport var featureFlagService = new FeatureFlagService();\nexport var checkFeatureFlags = function () {\n  var _ref = _asyncToGenerator(function* () {\n    yield featureFlagService.checkFeatureFlags();\n  });\n  return function checkFeatureFlags() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","AsyncStorage","FeatureFlagService","_classCallCheck","flags","lastFetch","cacheDuration","_createClass","key","value","_checkFeatureFlags","_asyncToGenerator","now","Date","fetchFeatureFlags","Object","keys","length","loadCachedFlags","console","log","error","checkFeatureFlags","apply","arguments","_fetchFeatureFlags","response","get","data","cacheFlags","_cacheFlags","setItem","JSON","stringify","timestamp","_loadCachedFlags","cached","getItem","parse","isFeatureEnabled","featureName","context","flag","enabled","conditions","userTier","includes","countries","country","appVersion","rolloutPercentage","undefined","random","Math","getFeatureValue","defaultValue","getAllFlags","_objectSpread","_refreshFlags","refreshFlags","isLiveStreamingEnabled","isReelsEnabled","isGamingEnabled","isOGStoreEnabled","isBattleSystemEnabled","isGiftSystemEnabled","isLiteModeEnabled","isAnonymousModeEnabled","isCountryFilterEnabled","isAgeGateEnabled","isEsewaEnabled","isKhaltiEnabled","isStripeEnabled","isContentModerationEnabled","isBlurOverlayEnabled","isWarningBannerEnabled","isDirectMessagingEnabled","isThreeMessageRuleEnabled","isUnsendEnabled","isAnalyticsEnabled","isCrashReportingEnabled","isOfflineQueueEnabled","isPreloadEnabled","isDebugModeEnabled","isTestModeEnabled","featureFlagService","_ref"],"sources":["D:/halobuzz by cursor/mobile/src/services/featureFlagService.ts"],"sourcesContent":["import axios from 'axios';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\ninterface FeatureFlag {\r\n  name: string;\r\n  enabled: boolean;\r\n  rolloutPercentage?: number;\r\n  conditions?: {\r\n    userTier?: number[];\r\n    countries?: string[];\r\n    appVersion?: string;\r\n  };\r\n}\r\n\r\ninterface FeatureFlags {\r\n  [key: string]: FeatureFlag;\r\n}\r\n\r\nclass FeatureFlagService {\r\n  private flags: FeatureFlags = {};\r\n  private lastFetch: number = 0;\r\n  private cacheDuration: number = 5 * 60 * 1000; // 5 minutes\r\n\r\n  async checkFeatureFlags() {\r\n    try {\r\n      // Check if we need to fetch fresh flags\r\n      const now = Date.now();\r\n      if (now - this.lastFetch > this.cacheDuration) {\r\n        await this.fetchFeatureFlags();\r\n      }\r\n\r\n      // Load cached flags if fetch failed\r\n      if (Object.keys(this.flags).length === 0) {\r\n        await this.loadCachedFlags();\r\n      }\r\n\r\n      console.log('Feature flags loaded:', this.flags);\r\n    } catch (error) {\r\n      console.error('Failed to check feature flags:', error);\r\n      await this.loadCachedFlags();\r\n    }\r\n  }\r\n\r\n  private async fetchFeatureFlags() {\r\n    try {\r\n      const response = await axios.get('http://localhost:3001/api/config/feature-flags');\r\n      this.flags = response.data;\r\n      this.lastFetch = Date.now();\r\n      \r\n      // Cache the flags\r\n      await this.cacheFlags();\r\n    } catch (error) {\r\n      console.error('Failed to fetch feature flags:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  private async cacheFlags() {\r\n    try {\r\n      await AsyncStorage.setItem('feature_flags', JSON.stringify({\r\n        flags: this.flags,\r\n        timestamp: this.lastFetch\r\n      }));\r\n    } catch (error) {\r\n      console.error('Failed to cache feature flags:', error);\r\n    }\r\n  }\r\n\r\n  private async loadCachedFlags() {\r\n    try {\r\n      const cached = await AsyncStorage.getItem('feature_flags');\r\n      if (cached) {\r\n        const data = JSON.parse(cached);\r\n        this.flags = data.flags;\r\n        this.lastFetch = data.timestamp;\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load cached feature flags:', error);\r\n    }\r\n  }\r\n\r\n  isFeatureEnabled(featureName: string, context?: {\r\n    userTier?: number;\r\n    country?: string;\r\n    appVersion?: string;\r\n  }): boolean {\r\n    const flag = this.flags[featureName];\r\n    \r\n    if (!flag) {\r\n      return false; // Feature not found, disabled by default\r\n    }\r\n\r\n    if (!flag.enabled) {\r\n      return false; // Feature explicitly disabled\r\n    }\r\n\r\n    // Check conditions\r\n    if (flag.conditions) {\r\n      if (flag.conditions.userTier && context?.userTier) {\r\n        if (!flag.conditions.userTier.includes(context.userTier)) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      if (flag.conditions.countries && context?.country) {\r\n        if (!flag.conditions.countries.includes(context.country)) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      if (flag.conditions.appVersion && context?.appVersion) {\r\n        // Simple version comparison - can be enhanced\r\n        if (context.appVersion !== flag.conditions.appVersion) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Check rollout percentage\r\n    if (flag.rolloutPercentage !== undefined) {\r\n      const random = Math.random() * 100;\r\n      if (random > flag.rolloutPercentage) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  getFeatureValue(featureName: string, defaultValue: any = null, context?: {\r\n    userTier?: number;\r\n    country?: string;\r\n    appVersion?: string;\r\n  }): any {\r\n    if (this.isFeatureEnabled(featureName, context)) {\r\n      const flag = this.flags[featureName];\r\n      return flag?.value || defaultValue;\r\n    }\r\n    return defaultValue;\r\n  }\r\n\r\n  getAllFlags(): FeatureFlags {\r\n    return { ...this.flags };\r\n  }\r\n\r\n  async refreshFlags() {\r\n    this.lastFetch = 0; // Force refresh\r\n    await this.checkFeatureFlags();\r\n  }\r\n\r\n  // Predefined feature checks\r\n  isLiveStreamingEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('live_streaming', context);\r\n  }\r\n\r\n  isReelsEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('reels', context);\r\n  }\r\n\r\n  isGamingEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('gaming', context);\r\n  }\r\n\r\n  isOGStoreEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('og_store', context);\r\n  }\r\n\r\n  isBattleSystemEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('battle_system', context);\r\n  }\r\n\r\n  isGiftSystemEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('gift_system', context);\r\n  }\r\n\r\n  isLiteModeEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('lite_mode', context);\r\n  }\r\n\r\n  isAnonymousModeEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('anonymous_mode', context);\r\n  }\r\n\r\n  isCountryFilterEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('country_filter', context);\r\n  }\r\n\r\n  isAgeGateEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('age_gate', context);\r\n  }\r\n\r\n  // Payment gateway features\r\n  isEsewaEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('payment_esewa', context);\r\n  }\r\n\r\n  isKhaltiEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('payment_khalti', context);\r\n  }\r\n\r\n  isStripeEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('payment_stripe', context);\r\n  }\r\n\r\n  // Content moderation features\r\n  isContentModerationEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('content_moderation', context);\r\n  }\r\n\r\n  isBlurOverlayEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('blur_overlay', context);\r\n  }\r\n\r\n  isWarningBannerEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('warning_banner', context);\r\n  }\r\n\r\n  // Social features\r\n  isDirectMessagingEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('direct_messaging', context);\r\n  }\r\n\r\n  isThreeMessageRuleEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('three_message_rule', context);\r\n  }\r\n\r\n  isUnsendEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('unsend_messages', context);\r\n  }\r\n\r\n  // Analytics and tracking\r\n  isAnalyticsEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('analytics', context);\r\n  }\r\n\r\n  isCrashReportingEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('crash_reporting', context);\r\n  }\r\n\r\n  // Performance features\r\n  isOfflineQueueEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('offline_queue', context);\r\n  }\r\n\r\n  isPreloadEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('preload_content', context);\r\n  }\r\n\r\n  // Debug features\r\n  isDebugModeEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('debug_mode', context);\r\n  }\r\n\r\n  isTestModeEnabled(context?: { userTier?: number; country?: string }): boolean {\r\n    return this.isFeatureEnabled('test_mode', context);\r\n  }\r\n}\r\n\r\nexport const featureFlagService = new FeatureFlagService();\r\n\r\nexport const checkFeatureFlags = async () => {\r\n  await featureFlagService.checkFeatureFlags();\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}